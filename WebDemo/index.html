<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Sightline AR</title>
    <meta name="description" content="Immersive guides for your world">
    
    <!-- A-Frame + AR.js -->
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    
    <link rel="stylesheet" href="styles-v3.css">
</head>
<body>

    <!-- AR STAGE (Background Camera Layer - Always Present but z-indexed) -->
    <div id="ar-stage" class="ar-stage">
        <!-- A-Frame Scene will be injected here by JS -->
    </div>

    <!-- PAGE 1: LANDING PAGE -->
    <section id="landing-page" class="start-panel">
        <div class="landing-content fade-in">
            <div class="header-container">
                <h1 class="brand-title">Sightline<br>AR</h1>
                <p class="brand-subtitle">Unlock the history hidden in plain sight.</p>
            </div>
            <button id="btn-start" class="cta-button">Start AR Experience</button>
        </div>
    </section>

    <!-- PAGE 2: PERMISSIONS PAGE -->
    <section id="permissions-page" class="start-panel hidden">
        <div class="header-container">
            <div class="brand-title">Setup</div>
        </div>
        
        <div class="permission-card fade-in">
            <div class="perm-items">
                <div class="perm-item" id="perm-item-camera">
                    <span class="perm-icon">üì∑</span>
                    <span class="perm-text">Camera</span>
                </div>
                <div class="perm-item" id="perm-item-location">
                    <span class="perm-icon">üìç</span>
                    <span class="perm-text">Location</span>
                </div>
                <div class="perm-item" id="perm-item-motion">
                    <span class="perm-icon">üß≠</span>
                    <span class="perm-text">Motion</span>
                </div>
            </div>

            <!-- Permission Buttons -->
            <button id="btn-enable-access" class="cta-button">Enable Access</button>
            <button id="btn-enter-experience" class="cta-button success hidden">Launch</button>
        </div>
    </section>

    <!-- PAGE 3: EXPERIENCE PAGE (Overlay on AR) -->
    <section id="experience-page" class="hud hidden">
        <!-- 2D Compass HUD or Status Pills will be injected here -->
        <div class="ar-ui-layer">
            <div class="status-pill">Initializing...</div>
        </div>
    </section>

    <!-- DEBUG PANEL -->
    <div class="debug-panel">
        <h3>Debug Log</h3>
        <div id="dev-log" class="dev-log-content"></div>
    </div>

    <!-- App Script -->
    <script src="app-v3.js"></script>
</body>
</html>
